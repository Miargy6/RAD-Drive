{"ast":null,"code":"var _jsxFileName = \"/Users/mussagyremane/Documents/DEV/Websites/RAD Drive/src/components/table-details/AddEdit.js\";\nimport React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport \"./AddEdit.css\";\nimport fireDb from \"../../firebase\";\nimport { database } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\n\nconst AddEdit = ({\n  defaultValues,\n  afterSubmit\n}) => {\n  const {\n    name,\n    email,\n    id\n  } = defaultValues || {};\n  const [state, setState] = useState({\n    name,\n    email,\n    id\n  });\n  const {\n    folderId\n  } = useParams();\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState({ ...state,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!state.name || !state.email) {\n      toast.error(\"Please provied value in each input field!\");\n    } else {\n      if (!id) {\n        database.tableData.add({\n          name: state.name,\n          email: state.email,\n          folderId: folderId ? folderId : null,\n          createdAt: database.getCurrentTimestamp()\n        });\n      } else {\n        database.tableData.doc(id).update({\n          name: state.name,\n          email: state.email\n        });\n        fireDb.child(`tableDetail/${id}`).set(state, err => {\n          if (err) {\n            toast.error(err);\n          } else {\n            toast.success(\"Information Updated Successfully!\");\n          }\n        });\n      }\n    }\n\n    afterSubmit();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    placeholder: \"Enter the Specification...\",\n    defaultValue: name || \"\",\n    onChange: handleInputChange,\n    onBlur: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Enter the Details...\",\n    defaultValue: email || \"\",\n    onBlur: handleInputChange,\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: id ? \"Update\" : \"Save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default AddEdit;","map":{"version":3,"sources":["/Users/mussagyremane/Documents/DEV/Websites/RAD Drive/src/components/table-details/AddEdit.js"],"names":["React","useState","useParams","fireDb","database","toast","AddEdit","defaultValues","afterSubmit","name","email","id","state","setState","folderId","handleInputChange","e","value","target","handleSubmit","preventDefault","error","tableData","add","createdAt","getCurrentTimestamp","doc","update","child","set","err","success"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./AddEdit.css\";\r\nimport fireDb from \"../../firebase\";\r\nimport { database } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst AddEdit = ({ defaultValues, afterSubmit }) => {\r\n  const { name, email, id } = defaultValues || {};\r\n  const [state, setState] = useState({ name, email, id });\r\n  const { folderId } = useParams();\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setState({ ...state, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!state.name || !state.email) {\r\n      toast.error(\"Please provied value in each input field!\");\r\n    } else {\r\n      if (!id) {\r\n        database.tableData.add({\r\n          name: state.name,\r\n          email: state.email,\r\n          folderId: folderId ? folderId : null,\r\n          createdAt: database.getCurrentTimestamp(),\r\n        });\r\n      } else {\r\n        database.tableData.doc(id).update({\r\n          name: state.name,\r\n          email: state.email,\r\n        });\r\n        fireDb.child(`tableDetail/${id}`).set(state, (err) => {\r\n          if (err) {\r\n            toast.error(err);\r\n          } else {\r\n            toast.success(\"Information Updated Successfully!\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n    afterSubmit();\r\n  };\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          placeholder=\"Enter the Specification...\"\r\n          defaultValue={name || \"\"}\r\n          onChange={handleInputChange}\r\n          onBlur={handleInputChange}\r\n        />\r\n\r\n        <input\r\n          type=\"text\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Enter the Details...\"\r\n          defaultValue={email || \"\"}\r\n          onBlur={handleInputChange}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <input type=\"submit\" value={id ? \"Update\" : \"Save\"} />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddEdit;\r\n"]},"metadata":{},"sourceType":"module"}