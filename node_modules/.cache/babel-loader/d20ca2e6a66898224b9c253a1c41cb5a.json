{"ast":null,"code":"import _objectSpread from\"E:\\\\GitHub\\\\CornelderDrive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\GitHub\\\\CornelderDrive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import fireDb from\"../../firebase\";import{Link}from\"react-router-dom\";import\"./Home.css\";import{toast}from'react-toastify';import AddEdit from\"./AddEdit\";import{render}from'@testing-library/react';import{useParams,useLocation}from\"react-router-dom\";import{useFolder}from\"../../hooks/useFolder\";import TableDetails from'./TableDetails';import{FaRegEdit,FaRegTrashAlt}from\"react-icons/fa\";var Home=function Home(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useParams=useParams(),folderId=_useParams.folderId;var _useLocation=useLocation(),_useLocation$state=_useLocation.state,state=_useLocation$state===void 0?{}:_useLocation$state;var _useFolder=useFolder(folderId,state.folder),folder=_useFolder.folder;// console.log(fireDb.child(\"tableDetail\").val);  \nuseEffect(function(){fireDb.child(\"tableDetail\").on(\"value\",function(snapshot){if(snapshot.val()!==null){setData(_objectSpread({},snapshot.val()));}else{setData({});}});return function(){setData({});};},[]);//Delete Function\nvar onDelete=function onDelete(id){if(window.confirm(\"Are you sure that you wante to delete this information ?\")){fireDb.child(\"tableDetail/\".concat(id)).remove(function(err){if(err){toast.error(err);}else{toast.success(\"Information deleted Successfully!\");}});}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"styled-table d-inline-flex\"},/*#__PURE__*/React.createElement(\"tbody\",null,Object.keys(data).map(function(id){return/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",null,data[id].name),/*#__PURE__*/React.createElement(\"td\",null,data[id].email),/*#__PURE__*/React.createElement(\"td\",{className:\"\"},/*#__PURE__*/React.createElement(Link,{to:\"/update/\".concat(id)},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-edit\",title:\"Edit\"},/*#__PURE__*/React.createElement(FaRegEdit,{size:18}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-delete\",title:\"Delete\",onClick:function onClick(){return onDelete(id);}},/*#__PURE__*/React.createElement(FaRegTrashAlt,{size:18}))));}))));};export default Home;","map":{"version":3,"sources":["E:/GitHub/CornelderDrive/src/components/table-details/Home.js"],"names":["React","useEffect","useState","fireDb","Link","toast","AddEdit","render","useParams","useLocation","useFolder","TableDetails","FaRegEdit","FaRegTrashAlt","Home","data","setData","folderId","state","folder","child","on","snapshot","val","onDelete","id","window","confirm","remove","err","error","success","Object","keys","map","name","email"],"mappings":"2SAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,YAAP,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,MAAT,KAAuB,wBAAvB,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,OAASC,SAAT,KAA0B,uBAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,SAAT,CAAoBC,aAApB,KAAyC,gBAAzC,CAOA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eACOZ,QAAQ,CAAC,EAAD,CADf,wCACVa,IADU,eACJC,OADI,8BAEIR,SAAS,EAFb,CAETS,QAFS,YAETA,QAFS,kBAGMR,WAAW,EAHjB,iCAGTS,KAHS,CAGTA,KAHS,6BAGD,EAHC,mCAIER,SAAS,CAACO,QAAD,CAAWC,KAAK,CAACC,MAAjB,CAJX,CAITA,MAJS,YAITA,MAJS,CAMjB;AACAlB,SAAS,CAAC,UAAM,CACZE,MAAM,CAACiB,KAAP,CAAa,aAAb,EAA4BC,EAA5B,CAA+B,OAA/B,CAAwC,SAACC,QAAD,CAAc,CAClD,GAAGA,QAAQ,CAACC,GAAT,KAAkB,IAArB,CAA0B,CACxBP,OAAO,kBAAKM,QAAQ,CAACC,GAAT,EAAL,EAAP,CACD,CAFD,IAEM,CACJP,OAAO,CAAC,EAAD,CAAP,CACD,CACJ,CAND,EAOA,MAAM,WAAM,CACVA,OAAO,CAAC,EAAD,CAAP,CACD,CAFD,CAGH,CAXQ,CAWN,EAXM,CAAT,CAiBA;AACA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,EAAD,CAAQ,CACvB,GAAGC,MAAM,CAACC,OAAP,CAAe,0DAAf,CAAH,CAA8E,CAC5ExB,MAAM,CAACiB,KAAP,uBAA4BK,EAA5B,GAAkCG,MAAlC,CAAyC,SAACC,GAAD,CAAS,CAChD,GAAGA,GAAH,CAAO,CACLxB,KAAK,CAACyB,KAAN,CAAYD,GAAZ,EACD,CAFD,IAEK,CACHxB,KAAK,CAAC0B,OAAN,CAAc,mCAAd,EACD,CACF,CAND,EAOD,CACF,CAVD,CAWA,mBACE,4CACE,6BAAO,SAAS,CAAC,4BAAjB,eACE,iCACKC,MAAM,CAACC,IAAP,CAAYlB,IAAZ,EAAkBmB,GAAlB,CAAsB,SAACT,EAAD,CAAQ,CAC7B,mBACE,0BAAI,GAAG,CAAEA,EAAT,eACE,8BAAKV,IAAI,CAACU,EAAD,CAAJ,CAASU,IAAd,CADF,cAEE,8BAAKpB,IAAI,CAACU,EAAD,CAAJ,CAASW,KAAd,CAFF,cAGE,0BAAI,SAAS,CAAC,EAAd,eACE,oBAAC,IAAD,EAAM,EAAE,mBAAaX,EAAb,CAAR,eACE,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,KAAK,CAAC,MAAvC,eACE,oBAAC,SAAD,EAAW,IAAI,CAAE,EAAjB,EADF,CADF,CADF,cAMI,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,KAAK,CAAC,QAAzC,CAAkD,OAAO,CAAE,yBAAMD,CAAAA,QAAQ,CAACC,EAAD,CAAd,EAA3D,eACE,oBAAC,aAAD,EAAe,IAAI,CAAE,EAArB,EADF,CANJ,CAHF,CADF,CAgBD,CAjBA,CADL,CADF,CADF,CADF,CA4BD,CAhED,CAmEA,cAAeX,CAAAA,IAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport fireDb from \"../../firebase\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Home.css\"\r\nimport { toast } from 'react-toastify';\r\nimport AddEdit from \"./AddEdit\"\r\nimport { render } from '@testing-library/react';\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\nimport { useFolder } from \"../../hooks/useFolder\";\r\nimport TableDetails from './TableDetails';\r\nimport { FaRegEdit, FaRegTrashAlt } from \"react-icons/fa\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState({});\r\n  const { folderId } = useParams()\r\n  const { state = {} } = useLocation()\r\n  const { folder } = useFolder(folderId, state.folder)\r\n\r\n  // console.log(fireDb.child(\"tableDetail\").val);  \r\n  useEffect(() => {\r\n      fireDb.child(\"tableDetail\").on(\"value\", (snapshot) => {\r\n          if(snapshot.val()!== null){\r\n            setData({...snapshot.val()});\r\n          }else {\r\n            setData({});\r\n          }  \r\n      });\r\n      return() => {\r\n        setData({});\r\n      };\r\n  }, []);\r\n\r\n\r\n\r\n\r\n\r\n  //Delete Function\r\n  const onDelete = (id) => {\r\n    if(window.confirm(\"Are you sure that you wante to delete this information ?\")){\r\n      fireDb.child(`tableDetail/${id}`).remove((err) => {\r\n        if(err){\r\n          toast.error(err)\r\n        }else{\r\n          toast.success(\"Information deleted Successfully!\");\r\n        }\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <table className='styled-table d-inline-flex'>\r\n        <tbody > \r\n            {Object.keys(data).map((id) => {\r\n              return(\r\n                <tr key={id} >\r\n                  <td>{data[id].name}</td>\r\n                  <td>{data[id].email}</td>\r\n                  <td className=''>\r\n                    <Link to={`/update/${id}`}>\r\n                      <button className='btn btn-edit' title=\"Edit\">\r\n                        <FaRegEdit size={18}/>\r\n                      </button>\r\n                    </Link>\r\n                      <button className='btn btn-delete' title=\"Delete\" onClick={() => onDelete(id)}>\r\n                        <FaRegTrashAlt size={18}/>\r\n                      </button>\r\n                  </td>\r\n                </tr>\r\n              )\r\n            })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    \r\n  );\r\n\r\n}\r\n\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}