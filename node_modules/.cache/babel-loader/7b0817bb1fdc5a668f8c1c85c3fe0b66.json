{"ast":null,"code":"import React from\"react\";import{Container,Button}from\"react-bootstrap\";import{useFolder}from\"../../hooks/useFolder\";import AddFolderButton from\"./AddFolderButton\";import AddFileButton from\"./AddFileButton\";import Folder from\"./Folder\";import Navbar from\"./Navbar\";import FolderBreadcrumbs from\"./FolderBreadcrumbs\";import{useParams,useLocation}from\"react-router-dom\";import{SRLWrapper}from\"simple-react-lightbox\";import\"../table-details/Table.css\";import TableDetails from\"../table-details/TableDetails\";import{BsFillTrashFill}from\"react-icons/bs\";import{database}from\"../../firebase\";import{toast}from\"react-toastify\";export default function Dashboard(){var _useParams=useParams(),folderId=_useParams.folderId;var _useLocation=useLocation(),_useLocation$state=_useLocation.state,state=_useLocation$state===void 0?{}:_useLocation$state;var _useFolder=useFolder(folderId,state.folder),folder=_useFolder.folder,childFolders=_useFolder.childFolders,childFiles=_useFolder.childFiles;var handleDeleteImage=function handleDeleteImage(id){database.files.doc(id).delete().then(function(){toast.success(\"File deleted succesfully!\");}).catch(function(err){toast.error(err);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between align-item-top mx-4 my-0 MainContainer\"},/*#__PURE__*/React.createElement(FolderBreadcrumbs,{currentFolder:folder}),/*#__PURE__*/React.createElement(AddFileButton,{currentFolder:folder}),/*#__PURE__*/React.createElement(AddFolderButton,{currentFolder:folder})),childFolders.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"flex-wrap d-flex justify-content-between m-4 \"},childFolders.map(function(childFolder){return/*#__PURE__*/React.createElement(\"div\",{key:childFolder.id,style:{maxWidth:\"250px\"},className:\"p-2\"},/*#__PURE__*/React.createElement(Folder,{folder:childFolder}));})),childFolders.length>0&&childFiles.length>0&&/*#__PURE__*/React.createElement(\"hr\",null),childFiles.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"m-4 TableDetailsMaster d-flex \"},/*#__PURE__*/React.createElement(\"div\",{className:\"TableDetails p-0 \"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TableDetails,null))),/*#__PURE__*/React.createElement(SRLWrapper,{className:\"SRLWrapper\"},/*#__PURE__*/React.createElement(\"div\",{id:\"app\",className:\"\"},childFiles.map(function(childFile,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"m-3 position-relative d-flex flex-wrap photo\",key:index},/*#__PURE__*/React.createElement(\"a\",{href:childFile.url},/*#__PURE__*/React.createElement(\"img\",{src:childFile.url,id:\"photo\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"delete-top-button\"},/*#__PURE__*/React.createElement(Button,{variant:\"\",title:\"Delete Photo\",className:\"btn-outline-danger\",onClick:function onClick(){handleDeleteImage(childFile.id);}},/*#__PURE__*/React.createElement(BsFillTrashFill,null))));}))))));}","map":{"version":3,"sources":["E:/GitHub/CornelderDrive/src/components/google-drive/Dashboard.js"],"names":["React","Container","Button","useFolder","AddFolderButton","AddFileButton","Folder","Navbar","FolderBreadcrumbs","useParams","useLocation","SRLWrapper","TableDetails","BsFillTrashFill","database","toast","Dashboard","folderId","state","folder","childFolders","childFiles","handleDeleteImage","id","files","doc","delete","then","success","catch","err","error","length","map","childFolder","maxWidth","childFile","index","url"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,iBAAlC,CACA,OAASC,SAAT,KAA0B,uBAA1B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,MAAO,4BAAP,CAEA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,OAASC,eAAT,KAAgC,gBAAhC,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,cAAe,SAASC,CAAAA,SAAT,EAAqB,gBACbP,SAAS,EADI,CAC1BQ,QAD0B,YAC1BA,QAD0B,kBAEXP,WAAW,EAFA,iCAE1BQ,KAF0B,CAE1BA,KAF0B,6BAElB,EAFkB,mCAGWf,SAAS,CACpDc,QADoD,CAEpDC,KAAK,CAACC,MAF8C,CAHpB,CAG1BA,MAH0B,YAG1BA,MAH0B,CAGlBC,YAHkB,YAGlBA,YAHkB,CAGJC,UAHI,YAGJA,UAHI,CAQlC,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,EAAD,CAAQ,CAChCT,QAAQ,CAACU,KAAT,CACGC,GADH,CACOF,EADP,EAEGG,MAFH,GAGGC,IAHH,CAGQ,UAAM,CACVZ,KAAK,CAACa,OAAN,CAAc,2BAAd,EACD,CALH,EAMGC,KANH,CAMS,SAACC,GAAD,CAAS,CACdf,KAAK,CAACgB,KAAN,CAAYD,GAAZ,EACD,CARH,EASD,CAVD,CAWA,mBACE,qDACE,oBAAC,MAAD,MADF,cAGE,oBAAC,SAAD,EAAW,KAAK,KAAhB,eACE,2BAAK,SAAS,CAAC,uEAAf,eACE,oBAAC,iBAAD,EAAmB,aAAa,CAAEX,MAAlC,EADF,cAEE,oBAAC,aAAD,EAAe,aAAa,CAAEA,MAA9B,EAFF,cAGE,oBAAC,eAAD,EAAiB,aAAa,CAAEA,MAAhC,EAHF,CADF,CAMGC,YAAY,CAACY,MAAb,CAAsB,CAAtB,eACC,2BAAK,SAAS,CAAC,+CAAf,EACGZ,YAAY,CAACa,GAAb,CAAiB,SAACC,WAAD,qBAChB,2BACE,GAAG,CAAEA,WAAW,CAACX,EADnB,CAEE,KAAK,CAAE,CAAEY,QAAQ,CAAE,OAAZ,CAFT,CAGE,SAAS,CAAC,KAHZ,eAKE,oBAAC,MAAD,EAAQ,MAAM,CAAED,WAAhB,EALF,CADgB,EAAjB,CADH,CAPJ,CAmBGd,YAAY,CAACY,MAAb,CAAsB,CAAtB,EAA2BX,UAAU,CAACW,MAAX,CAAoB,CAA/C,eAAoD,8BAnBvD,CAoBGX,UAAU,CAACW,MAAX,CAAoB,CAApB,eACC,2BAAK,SAAS,CAAC,gCAAf,eAEE,2BAAK,SAAS,CAAC,mBAAf,eACE,4CACE,oBAAC,YAAD,MADF,CADF,CAFF,cAUE,oBAAC,UAAD,EAAY,SAAS,CAAC,YAAtB,eACE,2BAAK,EAAE,CAAC,KAAR,CAAc,SAAS,CAAC,EAAxB,EACGX,UAAU,CAACY,GAAX,CAAe,SAACG,SAAD,CAAYC,KAAZ,qBACd,2BAAK,SAAS,CAAC,8CAAf,CAA8D,GAAG,CAAEA,KAAnE,eACE,yBAAG,IAAI,CAAED,SAAS,CAACE,GAAnB,eACE,2BAAK,GAAG,CAAEF,SAAS,CAACE,GAApB,CAAyB,EAAE,CAAC,OAA5B,EADF,CADF,cAIE,2BAAK,SAAS,CAAC,mBAAf,eACE,oBAAC,MAAD,EACE,OAAO,CAAC,EADV,CAEE,KAAK,CAAC,cAFR,CAGE,SAAS,CAAC,oBAHZ,CAIE,OAAO,CAAE,kBAAM,CACbhB,iBAAiB,CAACc,SAAS,CAACb,EAAX,CAAjB,CACD,CANH,eAQE,oBAAC,eAAD,MARF,CADF,CAJF,CADc,EAAf,CADH,CADF,CAVF,CArBJ,CAHF,CADF,CA+DD","sourcesContent":["import React from \"react\";\nimport { Container, Button } from \"react-bootstrap\";\nimport { useFolder } from \"../../hooks/useFolder\";\nimport AddFolderButton from \"./AddFolderButton\";\nimport AddFileButton from \"./AddFileButton\";\nimport Folder from \"./Folder\";\nimport Navbar from \"./Navbar\";\nimport FolderBreadcrumbs from \"./FolderBreadcrumbs\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport { SRLWrapper } from \"simple-react-lightbox\";\nimport \"../table-details/Table.css\";\n\nimport TableDetails from \"../table-details/TableDetails\";\nimport { BsFillTrashFill } from \"react-icons/bs\";\nimport { database } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nexport default function Dashboard() {\n  const { folderId } = useParams();\n  const { state = {} } = useLocation();\n  const { folder, childFolders, childFiles } = useFolder(\n    folderId,\n    state.folder\n  );\n\n  const handleDeleteImage = (id) => {\n    database.files\n      .doc(id)\n      .delete()\n      .then(() => {\n        toast.success(\"File deleted succesfully!\");\n      })\n      .catch((err) => {\n        toast.error(err);\n      });\n  };\n  return (\n    <>\n      <Navbar />\n\n      <Container fluid>\n        <div className=\"d-flex justify-content-between align-item-top mx-4 my-0 MainContainer\">\n          <FolderBreadcrumbs currentFolder={folder} />\n          <AddFileButton currentFolder={folder} />\n          <AddFolderButton currentFolder={folder} />\n        </div>\n        {childFolders.length > 0 && (\n          <div className=\"flex-wrap d-flex justify-content-between m-4 \">\n            {childFolders.map((childFolder) => (\n              <div\n                key={childFolder.id}\n                style={{ maxWidth: \"250px\" }}\n                className=\"p-2\"\n              >\n                <Folder folder={childFolder} />\n              </div>\n            ))}\n          </div>\n        )}\n        {childFolders.length > 0 && childFiles.length > 0 && <hr />}\n        {childFiles.length > 0 && (\n          <div className=\"m-4 TableDetailsMaster d-flex \">\n            {/* --Table Details-- */}\n            <div className=\"TableDetails p-0 \">\n              <div>\n                <TableDetails />\n              </div>\n            </div>\n            {/*--End Table Details-- */}\n\n            {/*--Photo section-- */}\n            <SRLWrapper className=\"SRLWrapper\">\n              <div id=\"app\" className=\"\">\n                {childFiles.map((childFile, index) => (\n                  <div className=\"m-3 position-relative d-flex flex-wrap photo\" key={index}>\n                    <a href={childFile.url}>\n                      <img src={childFile.url} id=\"photo\" />\n                    </a>\n                    <div className=\"delete-top-button\">\n                      <Button\n                        variant=\"\"\n                        title=\"Delete Photo\"\n                        className=\"btn-outline-danger\"\n                        onClick={() => {\n                          handleDeleteImage(childFile.id);\n                        }}\n                      >\n                        <BsFillTrashFill />\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </SRLWrapper>\n          </div>\n        )}\n      </Container>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}