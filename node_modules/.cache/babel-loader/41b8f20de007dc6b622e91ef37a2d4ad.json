{"ast":null,"code":"import _defineProperty from\"E:\\\\GitHub\\\\CornelderDrive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:\\\\GitHub\\\\CornelderDrive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\GitHub\\\\CornelderDrive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useParams}from\"react-router-dom\";import\"./AddEdit.css\";import fireDb from\"../../firebase\";import{database}from\"../../firebase\";import{toast}from\"react-toastify\";var AddEdit=function AddEdit(_ref){var defaultValues=_ref.defaultValues,afterSubmit=_ref.afterSubmit;var _ref2=defaultValues||{},name=_ref2.name,email=_ref2.email,id=_ref2.id;var _useState=useState({name:name,email:email,id:id}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useParams=useParams(),folderId=_useParams.folderId;var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!state.name||!state.email){toast.error(\"Please provied value in each input field!\");}else{if(!id){database.tableData.add({name:state.name,email:state.email,folderId:folderId?folderId:null,createdAt:database.getCurrentTimestamp()});}else{database.tableData.doc(id).update({name:state.name,email:state.email});fireDb.child(\"tableDetail/\".concat(id)).set(state,function(err){if(err){toast.error(err);}else{toast.success(\"Information Updated Successfully!\");}});}}afterSubmit();};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Enter the Specification...\",defaultValue:name||\"\",onChange:handleInputChange,onBlur:handleInputChange}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"email\",name:\"email\",placeholder:\"Enter the Details...\",defaultValue:email||\"\",onBlur:handleInputChange,onChange:handleInputChange}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:id?\"Update\":\"Save\"})));};export default AddEdit;","map":{"version":3,"sources":["E:/GitHub/CornelderDrive/src/components/table-details/AddEdit.js"],"names":["React","useState","useParams","fireDb","database","toast","AddEdit","defaultValues","afterSubmit","name","email","id","state","setState","folderId","handleInputChange","e","target","value","handleSubmit","preventDefault","error","tableData","add","createdAt","getCurrentTimestamp","doc","update","child","set","err","success"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport \"./AddEdit.css\";\r\nimport fireDb from \"../../firebase\";\r\nimport { database } from \"../../firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst AddEdit = ({ defaultValues, afterSubmit }) => {\r\n  const { name, email, id } = defaultValues || {};\r\n  const [state, setState] = useState({ name, email, id });\r\n  const { folderId } = useParams();\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setState({ ...state, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!state.name || !state.email) {\r\n      toast.error(\"Please provied value in each input field!\");\r\n    } else {\r\n      if (!id) {\r\n        database.tableData.add({\r\n          name: state.name,\r\n          email: state.email,\r\n          folderId: folderId ? folderId : null,\r\n          createdAt: database.getCurrentTimestamp(),\r\n        });\r\n      } else {\r\n        database.tableData.doc(id).update({\r\n          name: state.name,\r\n          email: state.email,\r\n        });\r\n        fireDb.child(`tableDetail/${id}`).set(state, (err) => {\r\n          if (err) {\r\n            toast.error(err);\r\n          } else {\r\n            toast.success(\"Information Updated Successfully!\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n    afterSubmit();\r\n  };\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          name=\"name\"\r\n          placeholder=\"Enter the Specification...\"\r\n          defaultValue={name || \"\"}\r\n          onChange={handleInputChange}\r\n          onBlur={handleInputChange}\r\n        />\r\n\r\n        <input\r\n          type=\"text\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Enter the Details...\"\r\n          defaultValue={email || \"\"}\r\n          onBlur={handleInputChange}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <input type=\"submit\" value={id ? \"Update\" : \"Save\"} />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddEdit;\r\n"]},"metadata":{},"sourceType":"module"}